(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(20),i=a.n(c),s=(a(57),a(58),a(22)),l=a(9),o=a(28),u=a.n(o),d=a(4),j=a.n(d),b=a(8),h=a(18),p=a(19),x=a(31),O=a(29),f=a(112),m=a(107),v=a(108),g=a(113),y=a(50),w=a.n(y),k=a(25),_=a.n(k),C=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"create",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_()({method:"POST",url:"http://localhost:5000/create",data:{blog:t}});case 3:return e.abrupt("return");case 6:throw e.prev=6,e.t0=e.catch(0),new Error("".concat(e.t0.response.statusText," - ").concat(e.t0.response.data.message));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_()({method:"PUT",url:"http://localhost:5000/update",data:{blog:t}});case 3:return e.sent,e.abrupt("return");case 7:throw e.prev=7,e.t0=e.catch(0),new Error("".concat(e.t0.response.statusText," - ").concat(e.t0.response.data.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlogList",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_()({method:"GET",url:"http://localhost:5000/list"});case 3:return t=e.sent,e.abrupt("return",t.data.data.blogs);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("".concat(e.t0.response.statusText," - ").concat(e.t0.response.data.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getBlogById",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_()({method:"GET",url:"http://localhost:5000/getById",params:{id:t}});case 3:return a=e.sent,e.abrupt("return",a.data.data.blog[0]);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("".concat(e.t0.response.statusText," - ").concat(e.t0.response.data.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteBlog",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_()({method:"DELETE",url:"http://localhost:5000/",params:{id:t}});case 3:return e.abrupt("return");case 6:throw e.prev=6,e.t0=e.catch(0),new Error("".concat(e.t0.response.statusText," - ").concat(e.t0.response.data.message));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),B=(a(98),function(e){var t={title:e.title,message:e.message,type:e.variant,insert:"bottom",container:"bottom-left",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:3500,onScreen:!0},width:275};o.store.addNotification(t)}),S=function(e){B({variant:"success",title:"Success",message:e})},F=function(e){var t=e.message||"An unknown error has occurred";B({variant:"danger",title:"Error",message:t})},T=a(1),A=function(e){Object(x.a)(a,e);var t=Object(O.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).state={blogs:[],redirect:null},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.getBlogList();case 3:t=e.sent,this.setState({blogs:t}),S("Successfully got Blog list"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),F(new Error("Failed to get Blog list"));case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({redirect:"/blog/".concat(t,"/details")});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"DashboardRedirect",value:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({redirect:"/"});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.blogs,a=this.state.redirect;return Object(T.jsxs)("div",{children:[Object(T.jsx)(f.a,{variant:"dark",size:"lg",block:!0,onClick:function(){return e.DashboardRedirect()},children:"Home Page"}),Object(T.jsx)(m.a,{fluid:!0,children:Object(T.jsx)("h1",{style:{textAlign:"center"},children:"List of Blogs"})}),t.map((function(t,a){return Object(T.jsx)("div",{children:Object(T.jsx)(v.a,{children:Object(T.jsxs)(g.a,{style:{width:"70rem"},children:[Object(T.jsx)(g.a.Title,{children:t.article_title}),Object(T.jsxs)(g.a.Subtitle,{className:"mb-2 text-muted",children:["By: ",t.author_name]}),Object(T.jsx)(g.a.Img,{variant:"top",src:t.article_image}),Object(T.jsxs)(g.a.Body,{children:[Object(T.jsx)(g.a.Subtitle,{className:"mb-2 text-muted",children:t.article_date}),Object(T.jsxs)(g.a.Text,{children:[" ",Object(T.jsx)(w.a,{text:t.article_body,min:80,ideal:100,max:200,readMoreText:"click here to read more"})]}),Object(T.jsx)(f.a,{variant:"outline-secondary",size:"lg",block:!0,onClick:function(){return e.handleClick(t._id)},children:"Details Page"})]})]})})},a)})),a&&Object(T.jsx)(l.a,{to:a})]})}}]),a}(r.Component),E=a(13),L=a(12),D=a(30),I=a(24),G=a.n(I),N=a(111);function P(){var e=Object(D.a)(),t=e.register,a=e.handleSubmit,n=Object(r.useState)(""),c=Object(L.a)(n,2),i=c[0],s=c[1],o=Object(r.useState)(null),u=Object(L.a)(o,2),d=u[0],h=u[1],p=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,x(a);case 3:r=e.sent,s(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){return new Promise((function(t,a){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){t(r.result)},r.onerror=function(e){a(e)}}))},O=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.article_date=G()(t.article_date).format("ll"),a=t,Object.assign(a,{article_image:i}),e.next=6,C.create(a);case 6:S("Successfully created blog"),h("/blog/list"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),F(new Error("Failed to create Blog"));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(f.a,{variant:"dark",size:"lg",block:!0,onClick:function(){h("/")},children:"Home Page"}),Object(T.jsx)(m.a,{fluid:!0,children:Object(T.jsx)("h1",{style:{textAlign:"center"},children:"New Blog Page"})}),Object(T.jsx)(v.a,{children:Object(T.jsxs)(N.a,{onSubmit:a(O),children:[Object(T.jsxs)(N.a.Group,{controlId:"formBasicEmail",children:[Object(T.jsx)(N.a.Label,{children:"Author Name"}),Object(T.jsx)(N.a.Control,Object(E.a)(Object(E.a)({},t("author_name")),{},{type:"text",placeholder:"Author Name"}))]}),Object(T.jsxs)(N.a.Group,{controlId:"formBasicEmail",children:[Object(T.jsx)(N.a.Label,{children:"Article Title"}),Object(T.jsx)(N.a.Control,Object(E.a)(Object(E.a)({},t("article_title")),{},{type:"text",placeholder:"Article Title"}))]}),Object(T.jsx)(N.a.Group,{children:Object(T.jsx)(N.a.File,{id:"exampleFormControlFile1",label:"Article Image",onChange:function(e){p(e)}})}),Object(T.jsxs)(N.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(T.jsx)(N.a.Label,{children:"Article Body"}),Object(T.jsx)(N.a.Control,Object(E.a)({as:"textarea",rows:3},t("article_body")))]}),Object(T.jsxs)(N.a.Group,{controlId:"formBasicEmail",children:[Object(T.jsx)(N.a.Label,{children:"Article Date"}),Object(T.jsx)(N.a.Control,Object(E.a)(Object(E.a)({},t("article_date")),{},{type:"date",placeholder:"Author Name"}))]}),Object(T.jsx)(f.a,{variant:"primary",type:"submit",size:"lg",block:!0,children:"Submit"})]})}),d&&Object(T.jsx)(l.a,{to:d})]})}var z=a(109),H=a(110);function M(e){var t=Object(D.a)(),a=t.register,n=t.handleSubmit,c=Object(r.useState)(""),i=Object(L.a)(c,2),s=i[0],o=i[1],u=Object(r.useState)(null),d=Object(L.a)(u,2),h=d[0],p=d[1],x=Object(r.useState)({}),O=Object(L.a)(x,2),y=O[0],w=O[1],k=Object(r.useState)(!1),_=Object(L.a)(k,2),B=_[0],A=_[1],I=Object(r.useState)(!1),P=Object(L.a)(I,2),M=P[0],R=P[1],V=function(){return A(!1)},U=function(){return R(!1)},Y=e.match.params.id;Object(r.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.getBlogById(Y);case 3:t=e.sent,w(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),F(new Error("Failed to get Blog data"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var W=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,J(a);case 3:r=e.sent,o(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){return new Promise((function(t,a){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){t(r.result)},r.onerror=function(e){a(e)}}))},q=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={author_name:t.author_name?t.author_name:y.author_name,article_title:t.article_title?t.article_title:y.article_title,article_body:t.article_body?t.article_body:y.article_body,article_date:t.article_date?G()(t.article_date).format("ll"):G()(y.data.article_date).format("ll"),_id:Y},Object.assign(a,{article_image:s||y.article_image}),e.next=5,C.update(a);case 5:S("Successfully updated blog"),p("/blog/list"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),F(new Error("Failed to update Blog"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.deleteBlog(Y);case 3:S("Successfully deleted blog"),p("/blog/list"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),F(new Error("Failed to delete Blog"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(f.a,{variant:"dark",size:"lg",block:!0,onClick:function(){p("/")},children:"Home Page"}),Object(T.jsx)(m.a,{fluid:!0,children:Object(T.jsxs)("h1",{style:{textAlign:"center"},children:[y.article_title," Details"]})}),Object(T.jsx)(v.a,{children:Object(T.jsxs)(g.a,{style:{width:"70rem"},children:[Object(T.jsx)(g.a.Title,{children:y.article_title}),Object(T.jsxs)(g.a.Subtitle,{className:"mb-2 text-muted",children:["By: ",y.author_name]}),Object(T.jsx)(g.a.Img,{variant:"top",src:y.article_image}),Object(T.jsxs)(g.a.Body,{children:[Object(T.jsx)(g.a.Subtitle,{className:"mb-2 text-muted",children:y.article_date}),Object(T.jsx)(N.a.Group,{children:Object(T.jsx)(N.a.Control,{as:"textarea",rows:3,defaultValue:y.article_body})}),Object(T.jsxs)(z.a,{children:[Object(T.jsx)(f.a,{variant:"primary",onClick:function(){return A(!0)},children:"open Update Modal"}),Object(T.jsx)(f.a,{variant:"danger",onClick:function(){return R(!0)},children:"open Delete Modal"})]})]})]})}),1==B?Object(T.jsxs)(H.a,{show:B,onHide:V,size:"lg",children:[Object(T.jsx)(H.a.Header,{closeButton:!0,children:Object(T.jsxs)(H.a.Title,{children:["Update ",y.article_title]})}),Object(T.jsx)(H.a.Body,{children:Object(T.jsxs)(N.a,{onSubmit:n(q),children:[Object(T.jsxs)(N.a.Group,{children:[Object(T.jsx)(N.a.Label,{children:"Author Name"}),Object(T.jsx)(N.a.Control,Object(E.a)(Object(E.a)({},a("author_name")),{},{type:"text",placeholder:"Author Name",defaultValue:y.author_name}))]}),Object(T.jsxs)(N.a.Group,{children:[Object(T.jsx)(N.a.Label,{children:"Article Title"}),Object(T.jsx)(N.a.Control,Object(E.a)(Object(E.a)({},a("article_title")),{},{type:"text",placeholder:"Article Title",defaultValue:y.article_title}))]}),Object(T.jsx)(N.a.Group,{children:Object(T.jsx)(N.a.File,{id:"exampleFormControlFile1",label:"Article Image",onChange:function(e){W(e)}})}),Object(T.jsxs)(N.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(T.jsx)(N.a.Label,{children:"Article Body"}),Object(T.jsx)(N.a.Control,Object(E.a)(Object(E.a)({as:"textarea",rows:15},a("article_body")),{},{defaultValue:y.article_body}))]}),Object(T.jsxs)(N.a.Group,{children:[Object(T.jsx)(N.a.Label,{children:"Article Date"}),Object(T.jsx)(N.a.Control,Object(E.a)(Object(E.a)({},a("article_date")),{},{type:"date",defaultValue:G()(y.article_date).format("YYYY-MM-DD")}))]})]})}),Object(T.jsxs)(H.a.Footer,{children:[Object(T.jsx)(f.a,{variant:"secondary",onClick:V,children:"Close"}),Object(T.jsx)(f.a,{variant:"primary",onClick:n(q),children:"update"})]})]}):"",1==M?Object(T.jsxs)(H.a,{show:M,onHide:U,animation:!0,children:[Object(T.jsx)(H.a.Header,{closeButton:!0,children:Object(T.jsxs)(H.a.Title,{children:["Delete ",y.article_title]})}),Object(T.jsx)(H.a.Body,{children:"Would you like to delete this blog?"}),Object(T.jsxs)(H.a.Footer,{children:[Object(T.jsx)(f.a,{variant:"secondary",onClick:U,children:"Close"}),Object(T.jsx)(f.a,{variant:"danger",onClick:n(K),children:"Delete"})]})]}):"",h&&Object(T.jsx)(l.a,{to:h})]})}var R=function(e){Object(x.a)(a,e);var t=Object(O.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).state={redirect:null},e}return Object(p.a)(a,[{key:"handleClick",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({redirect:"/blog/".concat(t)});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.redirect;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"dash",children:[Object(T.jsx)(m.a,{children:Object(T.jsx)(v.a,{children:Object(T.jsx)("h1",{children:"Welcome to Weds App Assessment"})})}),Object(T.jsx)(f.a,{variant:"primary",size:"lg",block:!0,onClick:function(){return e.handleClick("new")},children:"Create Blog"}),Object(T.jsx)(f.a,{variant:"secondary",size:"lg",block:!0,onClick:function(){return e.handleClick("list")},children:"View Blog List"})]}),t&&Object(T.jsx)(l.a,{to:t})]})}}]),a}(r.Component);var V=function(){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(u.a,{}),Object(T.jsxs)(s.a,{children:[Object(T.jsx)(l.b,{exact:!0,path:"/",component:R}),Object(T.jsx)(l.b,{path:"/blog/new",component:P}),Object(T.jsx)(l.b,{path:"/blog/list",component:A}),Object(T.jsx)(l.b,{path:"/blog/:id/details",component:M})]})]})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,114)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),r(e),n(e),c(e),i(e)}))};i.a.render(Object(T.jsx)(n.a.StrictMode,{children:Object(T.jsx)(V,{})}),document.getElementById("root")),U()},57:function(e,t,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.35246494.chunk.js.map